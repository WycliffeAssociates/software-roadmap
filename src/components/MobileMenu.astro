---
import Toc from "@components/Toc.astro";
---

<div class="mobile-menu-wrapper">
  <button class="mobile-menu-toggle" data-js="mobile-menu-toggle"
    ><svg
      xmlns="http://www.w3.org/2000/svg"
      width="48"
      height="48"
      viewBox="0 0 48 48"
      ><path
        fill="currentColor"
        fill-rule="evenodd"
        d="M15.277 5a3 3 0 1 0 0 5.999a3 3 0 0 0 0-5.999m-12 4.998h5.29a7.003 7.003 0 0 0 13.42 0h13.29a6 6 0 0 1 1.639 11.77a7.003 7.003 0 0 0-13.349.227h-10.29c-5.522 0-10 4.476-10 9.998c0 4.924 3.56 9.016 8.247 9.845a7.003 7.003 0 0 0 13.463.153h8.335c.054 1.253.15 2.126.25 2.732c.14.846.653 1.58 1.425 1.978c.755.388 1.607.38 2.332.08c.888-.368 2.405-1.057 4.663-2.276c1.544-.833 2.606-1.524 3.34-2.078c.823-.62 1.39-1.573 1.39-2.681s-.567-2.06-1.39-2.681c-.734-.554-1.796-1.245-3.34-2.079c-2.258-1.218-3.775-1.907-4.663-2.275a2.77 2.77 0 0 0-2.332.08a2.7 2.7 0 0 0-1.425 1.978c-.112.682-.22 1.703-.269 3.222h-8.316a7.003 7.003 0 0 0-13.348-.226a6 6 0 0 1 1.638-11.77h10.29a7.003 7.003 0 0 0 13.464-.154c4.687-.829 8.246-4.92 8.246-9.845c0-5.522-4.477-9.998-10-9.998h-13.29a7.003 7.003 0 0 0-13.42 0h-5.29a2 2 0 1 0 0 4m12 29.993a3 3 0 1 1 6 .001a3 3 0 0 1-6 0m15-18.995a3 3 0 1 0 0 6a3 3 0 0 0 0-6"
        clip-rule="evenodd"></path></svg
    ></button
  >

  <div class="toc-mobile-wrapper" data-js="toc-mobile-wrapper">
    <div class="toc-mobile-padding">
      <button class="mobile-toc-close" data-js="mobile-toc-close">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          ><path
            fill="currentColor"
            d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6z"
          ></path></svg
        >
      </button>
      <Toc />
    </div>
  </div>
</div>

<style is:global>
  /* .toc-mobile-wrapper .toc {
    position: fixed;
    top: 0;
    right: 0;
    z-index: 100;
    inset: 0;
    display: none;
  } */
  .mobile-menu-toggle {
    background: none;
    border: none;
    outline: none;
    width: 24px;
    isolation: isolate;
    z-index: 900;
  }
  .mobile-menu-toggle svg {
    color: var(--global-data-contrast, #3f3d56);
  }
  .mobile-menu-toggle:active svg {
    transform: scale(0.9);
  }
  .toc-mobile-wrapper .open {
    display: block;
  }
  .toc-mobile-wrapper {
    position: fixed;
    top: 0;
    right: 0;
    z-index: 100;
    inset: 0;
    background: #fff;
    z-index: 1000;
    display: none;
  }
  .toc-mobile-padding {
    padding: 1rem;
  }
  .mobile-menu-wrapper {
    display: none;
    position: absolute;
    top: 4px;
    right: 4px;
    bottom: 0;
    z-index: 100;
  }
  .mobile-toc-close {
    position: absolute;
    top: 16px;
    right: 16px;
    background: none;
    border: none;
    outline: none;
    cursor: pointer;
    color: rgb(139, 13, 13);
  }
  @media screen and (max-width: 1200px) {
    .mobile-menu-wrapper {
      display: block;
    }
  }
</style>

<script>
  import {initMobileMenu} from "@scripts/mobileMenu";

  initMobileMenu();
</script>
